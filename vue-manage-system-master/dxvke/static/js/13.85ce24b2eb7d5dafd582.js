webpackJsonp([13],{1024:function(t,e,o){e=t.exports=o(86)(void 0),e.push([t.i,"",""])},1025:function(t,e,o){e=t.exports=o(86)(void 0),e.push([t.i,".ms-doc[data-v-39b1eee3]{max-width:980px;background-color:#fff;padding:40px;color:#54667a;margin-bottom:54px}.ms-doc_main[data-v-39b1eee3]{padding:20px;border-top:1px solid #e9f1f3}.lead_out img[data-v-39b1eee3]{margin:0 10px -3px 0;width:16px;height:18px}.pro[data-v-39b1eee3]{color:#0f8edd;padding:0 10px}.proB[data-v-39b1eee3]{border-left:1px solid #bfbfbf;border-right:1px solid #bfbfbf}.model_name[data-v-39b1eee3]{display:inline-block;width:80px;margin-right:10px;text-align:right}",""])},1059:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",{staticStyle:{"font-size":"24px","margin-left":"20px"}},[t._v("管理员列表")])],1)],1),t._v(" "),o("div",{staticClass:"ms-doc"},[o("el-button",{staticStyle:{"background-color":"#0f8edd","border-color":"#0f8edd","margin-bottom":"14px"},attrs:{type:"primary",round:""},on:{click:function(e){t.handleClick()}}},[t._v("添加管理员\n          ")]),t._v(" "),o("div",{staticClass:"ms-doc_main"},[o("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.managerList,border:""}},[o("el-table-column",{attrs:{prop:"username",label:"用户名","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{label:"用户组","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.group_name,function(e){return o("span",[t._v(t._s(e.title))])})}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"telephone",label:"手机号","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{prop:"last_login_time",label:"最后登录时间","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticClass:"pro",attrs:{type:"text",size:"small"},on:{click:function(o){t.handleClick(e.row.id)}}},[t._v("修改权限或密码")])]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{staticStyle:{width:"1100px",margin:"100px auto"},attrs:{title:t.title,visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("div",{staticStyle:{"font-size":"14px",color:"#54667a"}},[o("div",[o("span",{staticClass:"model_name",staticStyle:{float:"left"}},[t._v("管理组：")]),o("el-checkbox-group",{staticStyle:{"margin-left":"90px"},model:{value:t.user_info.group_id,callback:function(e){t.$set(t.user_info,"group_id",e)},expression:"user_info.group_id"}},t._l(t.groupList,function(e){return o("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.title))])}))],1),t._v(" "),o("p",[o("span",{staticClass:"model_name"},[t._v("姓名：")]),o("el-input",{staticStyle:{width:"180px",margin:"10px 0 20px"},model:{value:t.user_info.username,callback:function(e){t.$set(t.user_info,"username",e)},expression:"user_info.username"}})],1),t._v(" "),o("p",[o("span",{staticClass:"model_name"},[t._v("手机号：")]),o("el-input",{staticStyle:{width:"180px",margin:"10px 0 20px"},model:{value:t.user_info.telephone,callback:function(e){t.$set(t.user_info,"telephone",e)},expression:"user_info.telephone"}})],1),t._v(" "),o("p",[o("span",{staticClass:"model_name"},[t._v("初始密码：")]),o("el-input",{staticStyle:{width:"180px",margin:"10px 0 20px"},model:{value:t.user_info.password,callback:function(e){t.$set(t.user_info,"password",e)},expression:"user_info.password"}}),t._v(" "),o("small",{staticStyle:{"margin-left":"10px"}},[t._v("如不修改密码，留空即可")])],1),t._v(" "),o("p",[o("span",{staticClass:"model_name"},[t._v("状态：")]),t._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:t.user_info.status,callback:function(e){t.$set(t.user_info,"status",e)},expression:"user_info.status"}},[t._v("允许登录")]),t._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:t.user_info.status,callback:function(e){t.$set(t.user_info,"status",e)},expression:"user_info.status"}},[t._v("禁止登录")])],1)]),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.handleClose()}}},[t._v("取 消")]),t._v(" "),o("el-button",{staticStyle:{"background-color":"#0f8edd","border-color":"#0f8edd"},attrs:{type:"primary"},on:{click:function(e){t.addManager()}}},[t._v("保存")])],1)])],1)},staticRenderFns:[]}},1089:function(t,e,o){var a=o(1024);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(196)("6e8d253e",a,!0)},1090:function(t,e,o){var a=o(1025);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(196)("7d3bdd58",a,!0)},506:function(t,e,o){o(1090),o(1089);var a=o(197)(o(988),o(1059),"data-v-39b1eee3",null);t.exports=a.exports},988:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},data:function(){return{dialogVisible:!1,input:"",managerList:[],groupList:[],radio:"1",user_info:{username:"",telephone:null,password:"",group_id:[],status:"1",id:""},title:"添加管理员"}},methods:{getManageList:function(){var t=this;this.$ajax.get("/api/Rule/userList").then(function(e){"200"==e.data.code&&(t.managerList=e.data.data.user_list,console.log(t.managerList))},function(t){console.log(t)})},getManageGroup:function(){var t=this;this.$ajax.get("/api/Rule/addAdmin").then(function(e){"200"==e.data.code&&(t.groupList=e.data.data.group_list)},function(t){console.log(t)})},addManager:function(){var t=this;if(void 0===this.user_info.group_id||0==this.user_info.group_id.length)return void this.$message({message:"请选择管理组",type:"error"});this.$ajax.post("/api/Rule/editAdmin",this.user_info).then(function(e){"200"==e.data.code?(t.dialogVisible=!1,t.$message({message:e.data.data.message,type:"success"}),t.getManageList()):t.$message({message:e.data.error,type:"error"})},function(t){console.log(t)})},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(t){e.dialogVisible=!1}).catch(function(t){})},handleClick:function(t){var e=this;t?(this.title="修改权限或密码",this.$ajax.get("/api/Rule/editAdmin",{params:{admin_id:t}}).then(function(t){"200"==t.data.code&&(e.user_info=t.data.data.user_info,console.log(e.user_info),console.log(e.user_info.status),e.dialogVisible=!0)},function(t){console.log(t)})):(this.title="添加管理员",this.user_info={username:"",telephone:"",password:"",group_id:[],status:"1",id:""},this.dialogVisible=!0)}},mounted:function(){},created:function(){this.getManageList(),this.getManageGroup()}}}});